<!DOCTYPE html>
<html lang="ko">
    <head>
        <script src="/statics/js/loadHTML.js"></script>
        <script>
            loadHTML("/statics/include/head.html");
        </script>
        <title>회원가입</title>
    </head>

    <body>
        <main class="main main--background">
            
            <!-- // 상단헤더 -->
            <div class="container flex--column flex-justify--between">
                <div class="content-wrap flex--column gap--xl">
                    <div class="title-box">
                        <h1 class="">
                            <a>
                                <img src="" alt="로고">
                            </a>
                        </h1>
                        <ul class="bar">
                            <li class="bar__item is-active"></li>
                            <li class="bar__item"></li>
                            <li class="bar__item"></li>
                        </ul>
                        <div class="title-box__title">
                            <p class="body--large font-weight--medium">싸인오케이에서 사용할<br>서비스 약관을 확인해주세요</p>
                        </div>
                    </div>
                    <div class="box__content">
                        <div class="control-form flex-justify--between">
                            <label for="checkbox-all" class="font-weight--medium control-form__label"> 약관 전체 동의 </label>
                            <input type="checkbox" class="checkbox"
                            id="checkbox-all">
                        </div>
                        <div class="control-form flex-justify--between">
                            <label for="" class="control-form__label body--small">
                                <span class="font-weight--medium">필수</span>
                                만 14세 이상입니다
                                <img class="icon" src="/icon/angle-line.svg">
                            </label>
                            <input type="checkbox" class="checkbox">
                        </div>
                    </div>
                    <!-- // box -->
                </div>
                <!-- //area -->
                
                <div class="flex--row flex-justify--end">
                    <a href="/step-2.html" class="button button--primary  is-small">다음</a>
                </div>
                
            </div>
           <!-- // container -->
        </main>
       
        
        <script>

            // 뒤로가기 내역 있는지 확인
            $(function(){
                checkHistoryBack()
            })

            function checkHistoryBack(){
                if(document.referrer.indexOf('step-2') > -1 ){
                    $('.checkbox').prop('checked',true)
                }
            }
            
            // 전체 동의
            function manageAllCheck(){
                $(this).prop('checked')==true ?
                $('.checkbox').prop('checked',true) :
                $('.checkbox').prop('checked',false)
            }

            $('#checkbox-all').on('click',manageAllCheck)


            // 약관 체크 여부 확인
            function checkServiceTerms(e){
                e.preventDefault()
                for(let i = 0; i < $('.checkbox').length; i++){
                    if($('.checkbox').eq(i).prop('checked')==false){
                        alert('필수 약관에 동의해주세요.')
                        break;
                    }
                    else{
                        location.href='/step-2.html'
                    }
                }
            }
            $('.button--primary').on('click',  checkServiceTerms)            

        </script>
    </body>
    
</html>