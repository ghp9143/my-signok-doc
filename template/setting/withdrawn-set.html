<!DOCTYPE html>
<html lang="ko">
    <head>
        <script src="/statics/js/loadHTML.js"></script>
        <script>
            loadHTML("/statics/include/head.html");
        </script>
        <title>설정|회원탈퇴</title>
    </head>

    <body>
        <div class="wrapper">
            <script>
                loadHTML("/statics/include/nav.html");
            </script>
            
            <main class="main ">
                <!-- 상단 헤더 -->
                <script>
                    loadHTML("/statics/include/sub_header.html");
                </script>
                <!-- // 상단헤더 -->
                <!-- 메인 컨텐츠 -->
                <div class="container">
                    <div class="main-content">
                        <div class="tab-wrap">
                            <ul class="tab">
                                <li class="tab__item--badge is-active">
                                    <a href="javascript:void(0)">내 정보</a>
                                </li>
                                <li class="tab__item--badge">
                                    <a href="/template/setting/company-set.html">기업 정보</a>
                                </li>
                                <li class="tab__item--badge ">
                                    <a href="/template/setting/price-set.html">요금제</a>
                                </li>
                                <li class="tab__item--badge">
                                    <a href="/template/setting/payment-set.html">결제 정보</a>
                                </li>
                                <li class="tab__item--badge">
                                    <a href="/template/setting/addr-set.html">주소록</a>
                                </li>
                                <li class="tab__item--badge">
                                    <a href="/template/setting/brand-set.html">브랜딩</a>
                                </li>
                            </ul>
                        </div>
                        <div class="full-grid left-double">
                            <div class="card-wrap">
                                <!-- card -->
                                <div class="card">
                                    <div class="card__content">
                                        <p class="is-remark">회원탈퇴</p>
                                        <p class="is-remark">
                                            signOK 서비스를 탈퇴하기 위해 아래 안내 사항을 확인해주세요.
                                        </p>
                                    </div>
                                    
                                    <div class="card__content">
                                        <p>서비스 탈퇴 안내사항</p>
                                        <ul class="basic-list">
                                            <li class="list__item">
                                                <span class="">1</span>
                                                탈퇴 이후에는 해당 계정으로 다시 가입할 수 없습니다.
                                            </li>
                                            <li class="list__item">
                                                <span>2</span>
                                                탈퇴 이후에는 사용된 문서와 사인, 도장을 확인할 수 없습니다.
                                            </li>
                                            <li class="list__item">
                                                <span>3</span>
                                                단, 전자서명에 사용된 개인정보 및 문서의 모든 정보는 법적 분쟁 및 위변조 방지에 대응하기 위해 SignOK가 보관합니다.
                                            </li>
                                            <li class="list__item">
                                                <span>4</span>
                                                유료로 구입하거나 무상으로 제공받은 요금제 및 이용권은 복구, 환불되지 않습니다.
                                            </li>
                                            <li class="list__item">
                                                <span>5</span>
                                                개인정보 처리방침 제 5조(개인정보의 보유 및 이용기간)에 따른 특별한 경우 한시적으로 개인정보를 보존합니다.
                                            </li>

                                        </ul>
                                    </div>

                                    <div class="input-area">
                                        <label for="password" class="is-remark">비밀번호</label>
                                        <div class="input-box">
                                            <input type="password"
                                            class="input"
                                            id="password"
                                            placeholder="비밀번호를 입력해주세요.">
                                            <img class="icon" id="pwd-toggle" src="/statics/icon/eye-show-line.svg"></img>
                                        </div>
                                        <p class="input-area__helper"></p>
                                    </div>
                                    
                                    <div class="input-area">
                                        <label for="text" class="is-remark">탈퇴 동의</label>
                                        <p class="is-remark">
                                            "탈퇴 안내사항을 확인하고 동의합니다."를 입력해 주세요.
                                        </p>
                                        <div class="input-box">
                                            <input type="text"
                                            class="input"
                                            id="text"
                                            placeholder="탈퇴 안내사항을 확인하고 동의합니다.
                                            " required>
                                            <img class="icon" src="/statics/icon/remove-solid.svg"></img>
                                        </div>
                                        <p class="input-area__helper"></p>
                                    </div>

                                    <div class="input-area">
                                        <label for="textarea">무엇이 불편하셨나요?</label>
                                        <textarea
                                        id="textarea" class="textarea"
                                        placeholder="탈퇴사유를 입력해주세요." maxlength="200" rows="4"></textarea>
                                    </div>
                                    <!-- /card-content -->
                                </div>
                                <!-- /card -->
                            </div>
                            <!-- /card-wrap -->
                            <div class="card is-row-full" id="event">
                                <img class="" src="https://source.unsplash.com/random">
                            </div>
                        </div>
                        <!-- /full-grid -->
                    </div>
                </div>
            </main>
        </div>
       
        
        <script>

            // 카드 인풋 변경
            function manageCard(){
                let context = $(this).text()
                let $el = $(this).parents('.card').find('.to-be-input')
                let $title = $(this).prev('.is-remark').text()

                switch (context){
                    case "수정하기": 
                        if($el.hasClass('is-hide')) $el.removeClass('is-hide')

                        if($title == '비밀번호'){
                            $el.html(`
                                <div class="input-area">
                                    <div class="input-box">
                                        <input type="password"
                                        class="input"
                                        id="change-password-before"
                                        placeholder="현재 비밀번호를 입력해주세요.">
                                        <img class="icon" src="/statics/icon/eye-show-line.svg"></img>
                                    </div>
                                </div>
                                <div class="input-area">
                                    <div class="input-box">
                                        <input type="password"
                                        class="input"
                                        id="change-password"
                                        placeholder="비밀번호를 입력해주세요.">
                                        <img class="icon" src="/statics/icon/eye-show-line.svg"></img>
                                    </div>
                                    <div class="flex--row is-hide">
                                        <div class="icon-with-text"
                                        id="has-number">
                                            <img src="/statics/icon/check-line.svg"
                                            class="icon">
                                            <p class="is-remark">문자 및 숫자 포함</p>
                                        </div>
                                        <div class="icon-with-text"
                                        id="has-asterisk">
                                            <img src="/statics/icon/check-line.svg"
                                            class="icon">
                                            <p class="is-remark">특수문자</p>
                                        </div>
                                        <div class="icon-with-text"
                                        id="has-length">
                                            <img src="/statics/icon/check-line.svg"
                                            class="icon">
                                            <p class="is-remark"> 8자리 이상</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="input-area">
                                    <div class="input-box">
                                        <input type="password"
                                        class="input"
                                        id="change-password-re"
                                        placeholder="비밀번호를 한번 더 입력해주세요.">
                                        <img class="icon" src="/statics/icon/eye-show-line.svg"></img>
                                    </div>
                                </div>
                            `)
                        }

                        else{
                            if($title == '이름'){
                                inputLength = 64;
                                inputId='name'
                            }
                            else{
                                inputLength = 13;
                                inputId='phone'
                            }
                            $el.html(`
                                <div class="input-box">
                                    <input type="text"
                                    class="input"
                                    id="change-${inputId}"
                                    maxlength = ${inputLength}
                                    value = ${$el.text()}
                                    placeholder="${$title}을 입력해주세요">
                                    <img class="icon" src="/statics/icon/remove-solid.svg"></img>
                                </div>
                                <p class="input-area__helper"></p>
                            `)
                        }
                        
                        $(this).text('저장하기')
                        break;

                    case "저장하기":
                        value = $el.find('.input').val()

                        $title !== "비밀번호" ? $el.html(value) : $el.html('')
                        $(this).text('수정하기')
                        break;
                }

            }

            $('.button').on('click',manageCard)

            

            // 테마 토글
            function toggleTheme(){
                loadedTheme = localStorage.getItem('data-theme')
                setTheme(loadedTheme == "dark" ? "light" : "dark");
            }
            $('#toggle-theme').on('click',toggleTheme)

            $(function(){
                $('#toggle-theme').prop('checked',currentTheme['toggle'])

                $('#set-user_mail').text(newTestObj['user_mail'])
                $('#set-user_product').text(newTestObj['user_product']+'('+newTestObj['user_regular_payment']+')')
                $('#set-user_name').text(newTestObj['user_name'])
                $('#set-user_left_day').text(newTestObj['left_day'])
                $('#agree_marketing').prop('checked',newTestObj['marketing'])

            })



            // 폰넘버 하이픈 추가
            $(document).on('keyup','#change-phone',function(){
                let str = $(this).val()
                $(this).val(str.replace(/[^0-9]/g, '')
                        .replace(/^(\d{0,3})(\d{0,4})(\d{0,4})$/g, "$1-$2-$3").replace(/(\-{1,2})$/g, ""));
            })

            


        </script>
        <script src="/statics/js/common.js"></script>
    </body>
    
</html>