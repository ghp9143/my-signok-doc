<!DOCTYPE html>
<html lang="ko">
    <head>
        <script src="/statics/js/loadHTML.js"></script>
        <script>
            loadHTML("/statics/include/head.html");
        </script>
        <title>문서목록</title>
    </head>

    <body>
        <!-- tutorial -->
        <div id="tutorial-wrap">
            <div class="tutorial__area">
                <div class="tutorial__box">
                    <p>
                        선택한 계약서의 전체 이력 조회 및 문서의 변경사항을 한눈에 확인할 수 있는 창입니다.
                    </p>
                    <div class="flex--row flex-justify--between">
                        <button type="button" class="button button--primary button--small">다음</button>
                    </div>
                </div>
                <div class="tutorial__box">
                    <p>
                        완료된 계약서와 문서 이력내용을 모두 다운로드 하실 수 있습니다. 
                    </p>
                    <div class="flex--row flex-justify--between">
                        <button type="button" class="button button--outline button--small">이전</button>
                        <button type="button" class="button button--primary button--small">다음</button>
                    </div>
                </div>
                <div class="tutorial__box">
                    <p>
                        완료된 계약서 및 이력정보를 다운로드 시 TSA도 포함됩니다.
                    </p>
                    <div class="flex--row flex-justify--between">
                        <button type="button" class="button button--outline button--small">이전</button>
                        <button type="button" class="button button--primary button--small">종료</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- / tutorial -->

        <script>
            loadHTML("/statics/include/nav.html");
        </script>
        
        <main class="main">
            <!-- 상단 헤더 -->
            <script>
                loadHTML("/statics/include/sub_header.html");
            </script>
            <!-- // 상단헤더 -->
            <div class="container">
                <div class="flex--row flex-justify--between">
                    <button type="button" class="button is-medium button--outline">
                        폴더선택
                    </button>
                    <div id="count-load-table" class="select-box select-box--large">
                        <select class="select-box__select">
                            <option value="10" selected>10개씩 보기</option>
                            <option value="30">30개씩 보기</option>
                            <option value="50">50개씩 보기</option>
    
                        </select>
                        <img class="select-box__icon icon" src="/statics/icon/angle-line.svg" alt="화살표">
                    </div>
                </div>
                <div class="content-wrap">
                    <ul class="table">
                        <ul class="table__tr">
                            <li class="table__thead">
                                <input type="checkbox" class="checkbox"
                                id="">
                            </li>
                            <li class="table__thead">템플릿이름</li>
                            <li class="table__thead">위치</li>
                            <li class="table__thead">등록일</li>
                            <li class="table__thead">최근 작성시간</li>
                            <li class="table__thead">추가메뉴</li>
                        </ul>
                        <ul class="table__tbody"></ul>
                </div>
            </div>
        </main>
        <script>

            $(function(){
                makeTable()
            })

            $('#count-load-table').on('change',makeTable)

            function makeTable(){
                const count = Number($('#count-load-table option:selected').val())

                if($('.table__tbody .table__tr').length > 0) {
                    $('.table__tbody .table__tr').remove()
                }
                for (let i = 0; i < count; i++){
                    let date = new Date(new Date(2012,0,1).getTime() + Math.random() * (new Date(2012,0,1).getTime() - new Date().getTime()));
                    html = ''
                    html += `
                    <ul class="table__tr">
                        <li class="table__td state active">
                            <input type="checkbox" class="checkbox"
                            id="">
                        </li>
                        <li class="table__td font-weight--medium">해촉증명서 ${i}
                            <ul>
                                <li class="table__td--remark">홍길동</li>
                            </ul>
                        </li>
                        <li class="table__td table__td--remark">기본 폴더</li>
                        <li class="table__td table__td--remark">${date}</li>
                        <li class="table__td table__td--remark">${date}</li>
                        <li class="table__td">
                            <button type="button" class="button button--outline button--small">
                                더보기
                            </button>
                        </li>
                    </ul>
                    `
                    $('.table__tbody').append(html)
                }
            }

            $('#tutorial-wrap').hide()
        </script>
        <script src="/statics/js/tutorial.js"></script>
    </body>
    
</html>